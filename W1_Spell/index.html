<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Spelling Flashcards</title>
  <style>
    /* Center the entire activity container on the page */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center; /* horizontally center */
      align-items: center;     /* vertically center if there's enough page height */
      min-height: 100vh;       /* full viewport height */
      background-color: #f2f2f2; /* light background for contrast */
    }

    /* The main container to keep everything together and nicely sized */
    #mainContainer {
      background-color: #fff;
      border: 1px solid #ccc;
      border-radius: 6px;
      width: 800px;
      max-width: 95%;
      margin: 20px auto; 
      padding: 20px;
    }

    h1 {
      margin-bottom: 10px;
      text-align: center;
    }

    /* The table with two cells: left = flashcard, right = input */
    table {
      width: 100%;
      table-layout: fixed;
      border-collapse: collapse;
      height: 300px; /* fixed height to help vertical-centering */
    }
    td {
      border: 1px solid #ccc;
      vertical-align: middle; /* ensures the content inside is vertically centered */
      padding: 20px;
    }

    /* Flashcard area on the left */
    #flashcardArea {
      text-align: center;
    }
    /* The “card” rectangle with rounded edges */
    #flashcardCard {
      background-color: #eef6ff; /* Light blue background */
      border: 1px solid #77c0ff; 
      border-radius: 10px;       /* Slightly rounded edges */
      padding: 30px;
      min-height: 100px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2em;            /* Big letters */
      color: #000;              /* Black text */
    }

    /* Input area on the right */
    #inputArea {
      text-align: center;
    }
    #spellingInput {
      font-size: 1.2em;
      padding: 8px;
      width: 80%;
      box-sizing: border-box;
    }
    /* Red highlight on incorrect attempt */
    .red-border {
      border: 2px solid #f00 !important;
      background-color: #f9c3c3 !important;
    }

    /* Buttons (mimicking H5P style) */
    .btn {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 14px;
      border-radius: 25px; /* Rounded corners */
      border: none;
      cursor: pointer;
    }
    #nextButton {
      background-color: #007bff;  /* Blue */
      color: #fff;
    }
    #resetButton {
      background-color: #ccc;     /* Grey */
      color: #333;
      margin-left: 10px;
    }

    /* Center the buttons side by side */
    #buttonRow {
      margin-top: 20px;
      text-align: center;
    }
  </style>
</head>
<body>

<div id="mainContainer">
  <h1>Spelling Practice</h1>
  <p style="text-align:center;">
    <em>
      1) Look at the flashcard on the left<br/>
      2) Click “Next” to type the word on the right<br/>
      3) If incorrect, the input goes red and you see the flashcard again<br/>
      4) Underscores show how many letters to spell
    </em>
  </p>

  <table>
    <tr>
      <!-- Left: Flashcard area -->
      <td id="flashcardArea">
        <div id="flashcardCard"></div>
      </td>
      <!-- Right: Input area -->
      <td id="inputArea"></td>
    </tr>
  </table>

  <div id="buttonRow">
    <button id="nextButton" class="btn">Next</button>
    <button id="resetButton" class="btn">Restart</button>
  </div>
</div>

<script>
/* 
  WORD LIST
*/
const words = [
  "autobiography",
  "biography",
  "self",
  "paragraph",
  "sentence",
  "written",
  "oral",
  "language",
  "English",
  "comprehension"
];

/* 
  STATE:
  - currentIndex: which word in the list we are on
  - mode: "flashcard" or "input"
*/
let currentIndex = 0;
let mode = "flashcard"; 

// DOM references
const flashcardCard = document.getElementById("flashcardCard");
const inputArea = document.getElementById("inputArea");
const nextButton = document.getElementById("nextButton");
const resetButton = document.getElementById("resetButton");

// Event listeners
nextButton.addEventListener("click", onNextClick);
resetButton.addEventListener("click", onReset);

// Initialize with the first flashcard
showFlashcard();

/* Called whenever the "Next" button is clicked */
function onNextClick() {
  if (mode === "flashcard") {
    // Move to input mode
    mode = "input";
    showInput();
  } else {
    // mode = "input"
    checkSpelling();
  }
}

/* Show the actual word in the flashcard */
function showFlashcard() {
  mode = "flashcard";
  const currentWord = words[currentIndex];
  flashcardCard.textContent = currentWord; 
  inputArea.innerHTML = "";
}

/* Show underscores in the flashcard, and input on the right */
function showInput() {
  mode = "input";
  const currentWord = words[currentIndex];
  // Convert word into underscores (e.g. "abc" -> "___")
  const underscores = "_".repeat(currentWord.length);
  flashcardCard.textContent = underscores; // keep the card visible but show underscores

  // Create an input box on the right
  inputArea.innerHTML = "";
  const input = document.createElement("input");
  input.type = "text";
  input.id = "spellingInput";
  input.placeholder = "Type the word here...";
  input.autofocus = true;
  input.style.verticalAlign = "middle";
  inputArea.appendChild(input);

  input.focus();
}

/* Check the typed spelling against the correct word */
function checkSpelling() {
  const userInput = document.getElementById("spellingInput");
  if (!userInput) return;
  const attempt = userInput.value.trim();
  const correct = words[currentIndex];

  // Clear previous red highlight
  userInput.classList.remove("red-border");

  // Case-insensitive comparison
  if (attempt.toLowerCase() === correct.toLowerCase()) {
    // Correct => next word or done
    currentIndex++;
    if (currentIndex >= words.length) {
      // All done
      flashcardCard.textContent = "All Done!";
      inputArea.innerHTML = "<p>Great job!</p>";
      mode = "done";
      nextButton.disabled = true;
    } else {
      // Move to next flashcard
      showFlashcard();
    }
  } else {
    // Incorrect => highlight in red, re-show the correct word in flashcard
    userInput.classList.add("red-border");
    showFlashcard();
  }
}

/* Restart from the first word */
function onReset() {
  currentIndex = 0;
  mode = "flashcard";
  nextButton.disabled = false;
  showFlashcard();
}
</script>

</body>
</html>
