<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Spelling Flashcards</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      max-width: 800px;
    }
    h1 {
      margin-bottom: 10px;
    }

    table {
      width: 100%;
      table-layout: fixed;
      border-collapse: collapse;
    }
    td {
      vertical-align: top;
      padding: 20px;
      border: 1px solid #ccc;
    }
    th {
      background-color: #f8f8f8;
    }

    /* Flashcard area on the left */
    #flashcardArea {
      text-align: center;
    }
    /* The actual “card” rectangle */
    #flashcardCard {
      background-color: #eef6ff; /* Light blue background */
      border: 1px solid #77c0ff; 
      border-radius: 10px;       /* Slightly rounded edges */
      padding: 30px;
      min-height: 100px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2em;            /* Big letters */
      color: #000;              /* Black text */
    }

    /* Input area on the right */
    #inputArea {
      text-align: center;
    }
    #spellingInput {
      font-size: 1.2em;
      padding: 8px;
      width: 80%;
      box-sizing: border-box;
    }
    .red-border {
      border: 2px solid #f00 !important;
      background-color: #f9c3c3 !important;
    }

    /* Buttons (mimicking H5P style) */
    .btn {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 14px;
      border-radius: 25px; /* Rounded corners */
      border: none;
      cursor: pointer;
    }
    #nextButton {
      background-color: #007bff;  /* Blue */
      color: #fff;
    }
    #resetButton {
      background-color: #ccc;     /* Grey */
      color: #333;
      margin-left: 10px;
    }

    /* Center the buttons side by side */
    #buttonRow {
      margin-top: 20px;
      text-align: center;
    }
  </style>
</head>
<body>

<h1>Spelling Practice</h1>
<p><em>Look at the flashcard on the left, then type the word on the right.<br>
If correct, you move on. If incorrect, you’ll see red and can retry that word.</em></p>

<table>
  <tr>
    <!-- Left: Flashcard area (the card) -->
    <td id="flashcardArea">
      <div id="flashcardCard"></div>
    </td>
    <!-- Right: Input area (where user spells the word) -->
    <td id="inputArea"></td>
  </tr>
</table>

<div id="buttonRow">
  <button id="nextButton" class="btn">Next</button>
  <button id="resetButton" class="btn">Restart</button>
</div>

<script>
/* 
  WORD LIST
*/
const words = [
  "autobiography",
  "biography",
  "self",
  "paragraph",
  "sentence",
  "written",
  "oral",
  "language",
  "English",
  "comprehension"
];

/* 
  STATES:
  - currentIndex: which word in the list we are on
  - mode: "flashcard" or "input"
  - if user is incorrect, highlight input red & return to flashcard for the same word
*/
let currentIndex = 0;
let mode = "flashcard"; 
let justGotItWrong = false; 

// DOM references
const flashcardCard = document.getElementById("flashcardCard");
const flashcardArea = document.getElementById("flashcardArea");
const inputArea = document.getElementById("inputArea");
const nextButton = document.getElementById("nextButton");
const resetButton = document.getElementById("resetButton");

nextButton.addEventListener("click", onNextClick);
resetButton.addEventListener("click", onReset);

init();

/* Initialize showing the first flashcard */
function init() {
  showFlashcard();
}

/* 
  "Next" button logic depends on whether we're in flashcard or input mode
*/
function onNextClick() {
  if (mode === "flashcard") {
    // Switch to input mode
    mode = "input";
    showInput();
  } else {
    // mode === "input"
    checkSpelling();
  }
}

/* 
  Display the current word in #flashcardCard
  Clear the input area
*/
function showFlashcard() {
  // Clear input area
  inputArea.innerHTML = "";
  // Show the word
  flashcardCard.textContent = words[currentIndex];
  justGotItWrong = false;
}

/* 
  Hide the flashcard word, show a text field for spelling
*/
function showInput() {
  flashcardCard.textContent = "";
  inputArea.innerHTML = ""; // clear
  const input = document.createElement("input");
  input.type = "text";
  input.id = "spellingInput";
  input.placeholder = "Type the word here...";
  input.autofocus = true;
  inputArea.appendChild(input);

  input.focus();
}

/* 
  Compare user’s typed value to the correct spelling
*/
function checkSpelling() {
  const userInput = document.getElementById("spellingInput");
  if (!userInput) return;

  const attempt = userInput.value.trim();
  const correct = words[currentIndex];

  // Clear any previous red highlight
  userInput.classList.remove("red-border");

  // Compare ignoring case
  if (attempt.toLowerCase() === correct.toLowerCase()) {
    // Correct
    currentIndex++;
    if (currentIndex >= words.length) {
      // All done
      flashcardCard.textContent = "All Done!";
      inputArea.innerHTML = "<p>Great job!</p>";
      mode = "done";
      nextButton.disabled = true;
    } else {
      mode = "flashcard";
      showFlashcard();
    }
  } else {
    // Incorrect
    userInput.classList.add("red-border");
    justGotItWrong = true;
    mode = "flashcard";
  }
}

/* 
  Restart from the first word in flashcard mode
*/
function onReset() {
  currentIndex = 0;
  mode = "flashcard";
  justGotItWrong = false;
  nextButton.disabled = false;
  showFlashcard();
}
</script>

</body>
</html>
